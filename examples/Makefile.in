#
# Makefile for apcupsd examples directory
#
# Copyright (C) 1999-2002 Riccardo Facchetti <riccardo@master.oasi.gpa.it>
#

# Default variables
@VARIABLES@
# TOP source directory.
topdir = @topdir@
top_builddir = $(topdir)

# Include the default make targets: to be put before the all-targets: rule.
@TARGETS@

allexe = client readfifo megaclient newslave upsapm

all-targets: $(allexe)

hid-ups: hid-ups.c
	$(CC) -g  hid-ups.c -o hid-ups

hid-set: hid-set.c
	$(CC) -g  hid-set.c -o hid-set

client:  client.c $(APCLIBS)
	$(CXX) $(CFLAGS) client.c $(APCLIBS) -o client
	$(CP) client@EXEEXT@ gui/

megaclient:  megaclient.c $(APCLIBS)
	$(CC) $(CFLAGS) megaclient.c $(APCLIBS) -o megaclient

readfifo:  readfifo.c
	$(CC) readfifo.c -o readfifo

newslave: newslave.c $(APCLIBS)
	$(CC) $(CFLAGS) newslave.c $(APCLIBS) -o newslave

upsapm: upsapm.c $(APCLIBS)
	$(CC) $(CFLAGS) upsapm.c $(APCLIBS) -o upsapm

smartsim: smartsim.c
	$(CC) $(CFLAGS) smartsim.c -o smartsim

snoopdecode: snoopdecode.c
	$(CC) $(CFLAGS) snoopdecode.c -o snoopdecode

install:

uninstall:

clean: targetclean
	$(RMF) core core.* 1 2 3 *.o
	$(RMF) $(allexe) hid-ups hid-set

distclean: targetdistclean
	$(RMF) safe.apccontrol
	$(RMF) gui/client@EXEEXT@
	$(RMF) Makefile .cvsignore gui/.cvsignore
	@rm -rf CVS gui/CVS

# -----------------------------------------------------------------------
# DO NOT DELETE THIS LINE -- make depend depends on it.
