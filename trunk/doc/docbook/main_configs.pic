# PIC diagram of typical apcupsd configurations.
#
# Make a PNG from this with: pic2graph -density 100
# Tweaking the density factor will change the image size.
#
# Art by Eric S. Raymond, September 2003.

define largebox {box width 1.3 height 0.70}
define right_label {$2 at $1.c + (0.3, 0)}
define up_label {$2 at $1.c + (0, 0.07)}

right
C1: largebox() "Computer running" "\fBapcupsd\fR in" "standalone mode"
move right right right
U1: box "UPS"
"\fBStand alone configuration\fR" at 0.5 <C1.nw, (U1.e, C1.n)> + (0, 0.2)
S1: line <-> from 0.6 <C1.se, C1.ne> right right right
up_label(S1, "serial or USB cable") 
P1: line thick 2 <- from 0.3 <C1.se, C1.ne> right right right
up_label(P1, "power") 

move down 1.0 from C1.sw; 

right
C2: largebox() "Computer A running" "\fBapcupsd\fR in" "master mode"
move right right right
U2: box "UPS"
"\fBTypical Master/Slave Configuration\fR" at 0.5 <C2.nw,(U2.e,C2.n)> + (0,0.2)
S2: line <-> from 0.6 <C2.se, C2.ne> right right right
up_label(S2, "serial or USB cable") 
P2: line thick 2 <- from 0.3 <C2.se, C2.ne> right right right
L1: line down from C2.s 
C3: largebox() "Computer B running" "\fBapcupsd\fR in" "slave mode"
L2: line down from C3.s
C4: largebox() "Computer C running" "\fBapcupsd\fR in" "slave mode"
P3: line thick 2 from P2.c to (P2.c, C4.w)
line thick 2 <- from C3.e to (P3, C3.e)
right_label(P3,"power")   
line thick 2 <- from C4.e to (P3, C4.e)
right_label(L1,"Ethernet")
right_label(L2,"Ethernet") 

move down 1.0 from C4.sw; 

right
C5: largebox()  "Computer A running" "\fBapcupsd\fR" "in slave mode"
move right right right from 0.3 <C5.e,C5.ne> 
U3: box "UPS"
"\fBMulti-UPS configuration\fR" at 0.5 <C5.nw, (U1.e, C5.n)> + (0, 0.2)
S3: line <-> from 0.65 <U3.sw, U3.nw> left left left
up_label(S3, "serial or USB cable") 
P4: line thick 2 -> from 0.2 <U3.sw, U3.nw> left left left
up_label(P4, "power")
L3: line down from C5.s 
C6: largebox() "Computer B running" "\fBapcupsd\fR" "in slave mode"
move right right right from C6.e
U4: box "UPS"
P5: line thick 2 <- from 0.3 <C6.se, C6.ne> right right right
up_label(P5, "power") 
L4: line <- right from 0.3 <C5.se, C5.e>
L5: line <- left from 0.6 <U4.sw, U4.nw>
L6: line from L4.end to L5.end
right_label(L3,"Ethernet")
up_label(L6, "serial or USB cable")

# End
